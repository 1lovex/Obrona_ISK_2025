# Pytanie 12 - Protokoły rozległych sieci komputerowych

## Kuba

Sieć WAN (Wide Area Network) to sieć łącząca urządzenia na dużych obszarach geograficznych (kraje, kontynenty). Działa głównie w warstwie fizycznej oraz warstwie łącza danych modelu OSI, wykorzystując usługi operatorów telekomunikacyjnych i różne odmiany transmisji szeregowej.

### Techniki łączenia w sieciach WAN

#### A. Komutacja kanałów (Circuit Switching)

Polega na rezerwacji dedykowanej ścieżki (sekwencji kanałów) od nadawcy do odbiorcy przed transmisją.

**Fazy:** Ustanowienie połączenia → Transfer danych → Rozłączenie.

**Zalety:** Wysoka jakość i stałe parametry transmisji.

**Wady:** Nieefektywność (kanał zajęty nawet podczas ciszy), opóźnienia przy zestawianiu połączenia.

**Przykłady:** ISDN (wdzwaniane usługi cyfrowe).

#### B. Łącza dzierżawione (Leased Lines)

Stałe łącze (miedziane lub światłowodowe) o gwarantowanej przepustowości, wynajęte od operatora. Opłata jest stała, niezależna od ilości przesłanych danych. Stosowane tam, gdzie wymagana jest stała dyspozycyjność.

#### C. Komutacja pakietów (Packet Switching)

Najbardziej elastyczna technika. Dane są dzielone na pakiety z nagłówkami (zawierającymi adresy, numery portów, identyfikatory).

**Cechy:** Odporność na uszkodzenia (pakiety omijają awarie), pakiety mogą docierać w różnej kolejności, duża przepustowość efektywna.

**Przykłady:** IPv4, IPv6, X.25, Frame Relay.

#### D. Komutacja komórek (Cell Switching)

Odmiana komutacji pakietów, gdzie jednostki danych mają stałą długość (tzw. komórki). Ułatwia to sprzętową realizację przełączania.

**Przykład:** ATM.

### Szczegółowy przegląd protokołów

#### PPP (Point-to-Point Protocol)

Protokół warstwy łącza danych łączący dwa węzły. Tworzy "tunel" dla innych protokołów (np. IP/TCP), dzięki czemu węzły widzą się tak, jakby były połączone bezpośrednim kablem.

**Jak działa:** Negocjuje parametry łącza (LCP), uwierzytelnia użytkownika (PAP/CHAP), enkapsuluje dane w ramkach i obsługuje błędy.

**Przykłady z życia:** Używany w dial-up połączeniach internetowych (np. modemem do ISP) lub VPN. Jak: Łączy komputer z serwerem, negocjuje ustawienia jak prędkość, a potem przesyła dane tak, jakby były bezpośrednio połączone.

#### HDLC (High-Level Data Link Control)

Bitowy protokół używany w transmisjach punkt-punkt oraz punkt-wiele punktów.

**Tryby pracy stacji:**

- **Primary:** Inicjuje i kontroluje transmisję, może obsługiwać wiele sesji.
- **Secondary:** Wykonuje polecenia stacji nadrzędnej (tylko jedna sesja).
- **Uniwersalna (Combined):** Może inicjować i kontrolować sesję (tylko jedna sesja).

**Struktura ramki:** Flaga (8 bit) | Adres (8) | Kontrolne (8/16) | Informacje (zmienna) | FCS (16) | Flaga (8).

**Jak działa:** Wysyła synchroniczne ramki z kontrolą błędów (FCS), zarządza przepływem i potwierdza odbiór.

**Przykłady z życia:** W sieciach telekomunikacyjnych jak ISDN lub łącza satelitarne. Jak: Zarządza transmisją między centralą a urządzeniami końcowymi, zapewniając niezawodne wysyłanie danych bez strat.

#### X.25 (Standard niezawodny)

Protokół połączeniowy z bardzo silną kontrolą błędów (potwierdzanie każdej ramki).

**Urządzenia:** DTE (system użytkownika) oraz DCE (węzły sieci operatora).

**Połączenia wirtualne:**

- **PVC (stałe połączenie wirtualne).**
- **SVC (tymczasowe połączenie wirtualne).**

**Zastosowanie:** Bankomaty, medycyna (tam, gdzie liczy się pewność, nie prędkość). Max 2 Mb/s.

**Jak działa:** Dzieli dane na pakiety, potwierdza każdy pakiet na poziomie łącza, retransmituje w przypadku błędów.

**Przykłady z życia:** W starych bankomatach do bezpiecznych transakcji finansowych. Jak: Gdy wchodzisz do bankomatu, połączenie X.25 zapewnia, że każda część danych (np. PIN, kwota) dotrze bez błędów, retransmitując jeśli coś pójdzie nie tak.

#### Frame Relay (Szybki następca X.25)

Uproszczona wersja X.25. Zakłada, że współczesne łącza są wysokiej jakości, więc rezygnuje z części mechanizmów kontroli, co pozwala na szybszą transmisję (do 45 Mb/s).

**Jak działa:** Używa wirtualnych obwodów (PVC), przesyła ramki bez pełnej kontroli błędów, opierając się na wyższych warstwach.

**Przykłady z życia:** W korporacyjnych sieciach WAN do łączenia oddziałów firmy. Jak: Łączy biura w różnych miastach, przesyłając dane szybko między nimi, jak wideo-konferencje lub transfer plików bez czekania na potwierdzenia.

#### ATM (Asynchronous Transfer Mode)

Wykorzystuje komutację komórek o stałym rozmiarze: 53 bajty (5 bajtów nagłówka + 48 danych).

Wykorzystuje ścieżki wirtualne (VPI) i kanały wirtualne (VCI).

Mechanizmy sterowania przepływem muszą być realizowane przez systemy końcowe. Max 622 Mb/s.

**Jak działa:** Dzieli dane na komórki, przełącza je sprzętowo na podstawie VPI/VCI, zapewnia QoS przez klasy usług.

**Przykłady z życia:** W usługach telewizji kablowej lub VoIP dla głosu i wideo. Jak: Przesyła strumień wideo z telewizji satelitarnej, dzieląc go na małe komórki, aby dotarł płynnie bez opóźnień.

### Inne protokoły i standardy

#### IP (Internet Protocol)

Protokół warstwy sieciowej odpowiedzialny za adresowanie i routing pakietów w sieciach IP (IPv4 i IPv6). W kontekście WAN umożliwia łączenie sieci lokalnych w globalną sieć.

**Jak działa:** Pakiety IP zawierają adres źródłowy i docelowy, routery decydują o ścieżce na podstawie tablic routingu. IPv4 używa 32-bitowych adresów (np. 192.168.1.1), IPv6 128-bitowych dla większej przestrzeni adresowej.

**Przykłady z życia:** Używany w całym Internecie do wysyłania e-maili, przeglądania stron. Jak: Gdy wysyłasz e-mail, IP dzieli wiadomość na pakiety, które wędrują przez różne sieci WAN, aby dotrzeć do odbiorcy.

#### X.121 (Standard adresowania w X.25)

Standard ITU-T definiujący format adresów w sieciach X.25. Adres X.121 identyfikuje urządzenie końcowe w sieci publicznej.

**Jak działa:** Adres ma zmienną długość (do 15 cyfr), składa się z kodu kraju (3 cyfry), kodu sieci krajowej (zmienna) i numeru abonenta (zmienna). Przykład: 525123456789 – Polska (525), sieć, abonent.

**Przykłady z życia:** W starych systemach bankowych lub telekomunikacyjnych do identyfikacji urządzeń. Jak: Bankomat ma adres X.121, aby sieć X.25 wiedziała, gdzie wysłać dane transakcji.

### Kluczowe różnice i parametry

| Protokół    | Technika | Jednostka     | Max Prędkość | Cechy szczególne               |
| ----------- | -------- | ------------- | ------------ | ------------------------------ |
| X.25        | Pakiety  | Pakiet        | 2 Mb/s       | Maksymalna kontrola błędów     |
| Frame Relay | Pakiety  | Ramka         | 45 Mb/s      | Szybszy, uproszczona kontrola  |
| ATM         | Komórki  | Komórka (53B) | 622 Mb/s     | Stała długość komórki, VPI/VCI |

### Podsumowanie na obronie

Protokoły WAN ewoluowały od maksymalnej kontroli błędów (X.25 dla niezawodności) przez uproszczoną kontrolę (Frame Relay dla prędkości) do szybkiej komutacji komórek (ATM). Kluczowa różnica: starsze protokoły (X.25) kontrolują błędy w sieci, nowsze (ATM) przenoszą odpowiedzialność na urządzenia końcowe. Wybór zależy od wymagań – niezawodność vs. prędkość.

### Podsumowanie różnic

| Technika    | Jednostka danych | Kluczowa cecha                             | Prędkość             |
| ----------- | ---------------- | ------------------------------------------ | -------------------- |
| X.25        | Pakiet           | Maksymalna kontrola błędów                 | Niska (do 2 Mb/s)    |
| Frame Relay | Ramka            | Szybki przesył, mniejsza kontrola          | Średnia (do 45 Mb/s) |
| ATM         | Komórka (53B)    | Stały rozmiar jednostki, sprzętowy przesył | Wysoka (622+ Mb/s)   |

### Podsumowanie na obronie

Protokoły WAN różnią się technikami łączenia: od komutacji kanałów (gwarantowana przepustowość, jak ISDN) po komutację pakietów (elastyczność, jak Frame Relay). Kluczowe jest zrozumienie różnicy między komutacją kanałów (rezerwacja drogi) a pakietów (dzielenie danych). X.25 sprawdza się w krytycznych aplikacjach jak bankomaty, gdzie priorytetem jest niezawodność, a ATM oferuje wysoką prędkość dla multimediów.

## Stachu

- **X.121**

  - Adres -> użytkownik końcowy (np.: 523).
  - Zmienna długość.
  - Adres terytorialny.
  - Wykorzystywane są liczby dziesiętne.
  - Dwie formy:
    - P (1) + DNIC (4) + NTN (max 10).
    - P (1) + DCC (3) + NN (max 11).
  - P – wskaźnik międzynarodowy.
  - DNIC – identyfikator sieci publicznej (np.: 2601, 260 – Polska, 1 – nr sieci).
  - NTN – numer użytkownika.
  - DCC – numer kraju.
  - NN – numer krajowy.
  - Do adresacji wykorzystywany jest Frame Relay (FR). W tej technice informacja jest dzielona na ramki o zmiennej długości, które przenoszą dane między sieciami LAN, co pozwala na przekazywanie informacji między urządzeniami końcowymi sieci rozległych (WAN).

- **IP**
  - Adres -> połączenie.
  - Stała długość 32 albo 128 bitów.
  - Adresacja bezpołączeniowa.
  - IPv4 albo IPv6.
    - W IPv4 -> maska x.x.x.x/24.
    - W IPv6 -> prefiks 2001:0db8::/32.
  - Do adresacji wykorzystywana jest tabela routingu.
