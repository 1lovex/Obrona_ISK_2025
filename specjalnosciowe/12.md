# Pytanie 12. Protokoły rozległych sieci komputerowych

Protokoły rozległych sieci komputerowych

## Stachu

* X.121
	* Adres -> użytkownik końcowy (np.: 523)
	* Zmienna długość
	* Adres terytorialny
	* Wykorzystywane są liczby dziesiętne
	* Dwie formy:
		* P (1) + DNIC (4) + NTN (max 10)
		* P (1) + DCC (3) + NN (max 11)
		* P – wskaźnik międzynarodowy
		* DNIC – identyfikator sieci publicznej (np.: 2601, 260 – Polska, 1 – nr sieci)
		* NTN – numer użytkownika
		* DCC – numer kraju
		* NN – numer krajowy
	* Do adresacji wykorzystywany jest Frame Relay (FR)
W tej technice informacja jest dzielona na ramki o zmiennej długości, które przenoszą dane między sieciami LAN, co pozwala na przekazywanie informacji między urządzeniami końcowymi sieci rozległych (WAN).

* IP
	* Adres -> połączenie
	* Stała długość 32 albo 128 bitów
	* Adresacja bezpołączeniowa
	* IPv4 albo IPv6
		* W IPv4 -> maska x.x.x.x/24
		* W IPv6 -> prefiks 2001:0db8::/32
	* Do adresacji wykorzystywana jest tabela routingu

## Gemini

Sieci komputerowe pokrywające duży obszar geograficzny (kraj, kontynent), łączące ze sobą sieci lokalne (LAN). W przeciwieństwie do LAN, infrastruktura WAN zazwyczaj należy do dostawcy usług (ISP), a użytkownik jedynie dzierżawi łącze. 

**Protokoły WAN działają głównie w warstwie łącza danych (Warstwa 2 modelu OSI).**

## Główne protokoły WAN

### HDLC (High-Level Data Link Control)

Jeden z najstarszych (czyli w kontekście akademickim wciąż szeroko wykorzystywany pewnie) protokołów warstwy łącza danych.

**Charakterystyka:**
- Protokół synchroniczny
- Działający w trybie punkt-punkt (point-to-point)
- Domyślny protokół na łączach szeregowych routerów Cisco

**Wada:**
- Standard HDLC nie definiuje pola "typ protokołu" w nagłówku
- Implementacje różnych producentów (np. Cisco vs Juniper) mogą być niekompatybilne
- Pozwala na przesyłanie tylko jednego protokołu warstwy wyższej (zazwyczaj IP) na danym łączu, chyba że zastosuje się wersję producencką (np. Cisco HDLC)

### PPP (Point-to-Point Protocol)

Uniwersalny standard, który wyparł HDLC w połączeniach między urządzeniami różnych producentów.

**Zalety:**

- **Niezależność:** Działa na sprzęcie każdego producenta
- **Uwierzytelnianie:** Obsługuje protokoły:
  - PAP (Password Authentication Protocol) - hasło jawnym tekstem
  - CHAP (Challenge Handshake Authentication Protocol) - bezpieczniejszy, wymiana skrótów
- **Wieloprotokołowość:** Potrafi przenosić różne pakiety warstwy sieciowej jednocześnie (IPv4, IPv6) dzięki protokołowi NCP (Network Control Protocol)
- **Multilink:** Pozwala łączyć kilka fizycznych łączy w jedno logiczne dla zwiększenia przepustowości

### Frame Relay

Technologia starsza ("legacy"), ale ważna teoretycznie.

Protokół komutacji pakietów, który był tańszą alternatywą dla linii dzierżawionych.

**Działanie:**
- Opiera się na wirtualnych obwodach (PVC - Permanent Virtual Circuits)
- Zamiast fizycznego kabla do każdego oddziału, mamy jedno łącze do chmury operatora

**Kluczowe pojęcia:**

- **DLCI** (Data Link Connection Identifier): Numer identyfikujący wirtualny kanał do konkretnego odbiorcy (lokalne znaczenie)
- **CIR** (Committed Information Rate): Gwarantowana przepustowość łącza wykupiona u operatora

### MPLS (Multi-Protocol Label Switching)

Współczesny standard w sieciach operatorskich, nazywany protokołem **"warstwy 2.5"** (między warstwą łącza danych a sieciową).

**Zasada działania:**
- Tradycyjne routery sprawdzają adres IP docelowy w każdym pakiecie (wolne)
- MPLS dokleja do pakietu krótką etykietę (Label)
- Routery wewnątrz sieci operatorskiej nie patrzą na IP, tylko błyskawicznie przełączają pakiety na podstawie samej etykiety

**Zastosowanie:**
- Tworzenie wydajnych sieci VPN (MPLS VPN)
- Inżynieria ruchu (Traffic Engineering)
- Gwarantowanie jakości usług (QoS) dla głosu i wideo

## Streszczenie

- ✅ Definicja WAN (zasięg geograficzny, warstwa 2 OSI)
- ✅ **HDLC:** domyślny dla Cisco, problem z kompatybilnością między producentami
- ✅ **PPP:** uniwersalny, obsługa uwierzytelniania (PAP/CHAP), multilink
- ✅ **Frame Relay:** (historycznie) komutacja pakietów, wirtualne obwody, identyfikatory DLCI
- ✅ **MPLS:** (współczesny) przełączanie etykiet, szybkość ("warstwa 2.5"), obsługa QoS i VPN
