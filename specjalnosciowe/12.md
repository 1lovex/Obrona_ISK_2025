# Pytanie 12 - Protokoły rozległych sieci komputerowych

## Kuba

12. Protokoły rozległych sieci komputerowych (WAN)

Sieć WAN (Wide Area Network) łączy urządzenia na dużych obszarach geograficznych (kraje, kontynenty). Działa głównie w warstwie fizycznej oraz łącza danych modelu OSI, wykorzystując infrastrukturę operatorów telekomunikacyjnych.

### 1. Protokoły warstwy łącza danych (L2)

#### HDLC (High-Level Data Link Control)

Bitowy, synchroniczny protokół, który stanowił fundament dla rozwoju nowoczesnej transmisji danych.

**Jak o nim opowiedzieć:** To protokół "porządkowy". Zarządza tym, jak bity są pakowane w ramki, synchronizuje zegary obu urządzeń i pilnuje, by dane nie zaginęły dzięki sumie kontrolnej FCS.

**Tryby pracy stacji:**

- **Primary:** "Szef" – inicjuje połączenie i kontroluje przepływ.
- **Secondary:** "Wykonawca" – odpowiada tylko na polecenia stacji nadrzędnej.
- **Uniwersalna (Combined):** Obie strony mają równe prawa (tryb zrównoważony).

#### LAP-B (Link Access Procedure, Balanced)

Specjalistyczna wersja HDLC pracująca w trybie zrównoważonym.

**Jak o nim opowiedzieć:** To "policjant" protokołu X.25. Jego jedynym zadaniem jest dopilnowanie, by połączenie między użytkownikiem (DTE) a operatorem (DCE) było bezbłędne. Jeśli ramka zginie, LAP-B natychmiast wymusza jej retransmisję.

#### Frame Relay

Następca X.25, zaprojektowany z myślą o szybkości.

**Jak o nim opowiedzieć:** Powstał w czasach, gdy światłowody stały się powszechne. Ponieważ linie fizyczne przestały generować błędy, Frame Relay przestał sprawdzać poprawność każdej ramki wewnątrz sieci. Dzięki temu jest "lekki" i szybki (do 45 Mb/s).

**Klucz:** Wykorzystuje identyfikatory DLCI do kierowania ruchem wewnątrz "chmury" operatora.

#### ATM (Asynchronous Transfer Mode)

Technologia oparta na bardzo małych, stałych jednostkach danych.

**Jak o nim opowiedzieć:** Kluczem jest komórka 53 bajty. Stały rozmiar pozwala urządzeniom przełączać dane sprzętowo, z ogromną prędkością (622 Mb/s+). Jest idealny do transmisji głosu i wideo, bo dzięki małym komórkom nie powstają "korki" w transmisji (brak opóźnień jitter).

### 2. Protokoły warstwy sieciowej i szkieletowej (L3 / L2.5)

#### TCP/IP (Internet Protocol)

Uniwersalny standard komunikacji, na którym opiera się dzisiejszy Internet.

**Jak o nim opowiedzieć:** To protokół "adresowy". Nie dba o to, czy dane płyną kablem, czy radiem – jego zadaniem jest znalezienie drogi od punktu A do punktu B.

**Wersje:**

- **IPv4:** Klasyczny, 32-bitowy (brak wolnych adresów).
- **IPv6:** Nowoczesny, 128-bitowy, zapewniający niemal nieskończoną liczbę adresów.

#### MPLS (Multi-Protocol Label Switching)

Technologia "warstwy 2.5", łącząca szybkość L2 z inteligencją L3.

**Jak o nim opowiedzieć:** Zamiast analizować skomplikowane adresy IP na każdym routerze, MPLS nakleja na pakiety proste "etykiety". Routery czytają tylko te etykiety (jak kody kreskowe na paczkach), co drastycznie przyspiesza przesył danych w dużych sieciach operatorskich.

#### X.25 (Standard niezawodny)

Starszy protokół, król bezpieczeństwa i niezawodności.

**Jak o nim opowiedzieć:** Powstał dla linii o bardzo słabej jakości (miedziane kable). Potwierdza odbiór absolutnie każdego pakietu. Przez ten nadmiar kontroli jest wolny (2 Mb/s), ale dlatego do dziś używa się go tam, gdzie błąd jest niedopuszczalny – np. przy autoryzacji transakcji w bankomatach. Adresuje urządzenia za pomocą standardu X.121.

### 3. Porównanie adresowania: X.121 vs IP

W sieciach WAN stosuje się dwa główne podejścia do adresowania:

| Cecha         | X.121 (Standard terytorialny)           | IP (Standard logiczny)        |
| ------------- | --------------------------------------- | ----------------------------- |
| Identyfikacja | Adresuje konkretne urządzenie końcowe.  | Adresuje połączenie sieciowe. |
| Długość       | Zmienna (do 15 cyfr).                   | Stała (32 lub 128 bitów).     |
| Format        | Liczby dziesiętne (czytelne dla ludzi). | Binarny / Heksadecymalny.     |

**Struktura adresu X.121 (Warto znać na obronę):**

- P (1): Wskaźnik międzynarodowy.
- DNIC (4): Kod sieci (np. 260 dla Polski).
- NTN / NN: Numer abonenta wewnątrz danej sieci krajowej.

### 4. Dodatek: Zasady Komutacji

Komutacja to mechanizm, który decyduje, jak dane "przeskakują" między węzłami sieci:

- **Komutacja Kanałów (Circuit Switching):** Jak w starej telefonii – rezerwujemy całą drogę tylko dla siebie. Gwarantuje jakość, ale marnuje zasoby, gdy milczymy.
- **Komutacja Pakietów (Packet Switching):** Dane lecą różnymi drogami w małych kawałkach. Bardzo elastyczne, podstawa Internetu.
- **Komutacja Komórek/Ramek:** Odmiany komutacji pakietów zoptymalizowane pod konkretny sprzęt (stały rozmiar w ATM lub zmienny w Frame Relay).

### Podsumowanie na obronę

Protokoły WAN przeszły długą drogę: od X.25, który chorobliwie sprawdzał błędy wewnątrz sieci, przez Frame Relay i ATM, które postawiły na szybkość, aż po dzisiejszy duet MPLS (wewnątrz sieci operatora) i IP (użytkownik końcowy). Kluczowa zmiana polega na tym, że dziś to Twój komputer (warstwa transportowa) sprawdza, czy dane są poprawne, dzięki czemu sieć WAN może zajmować się tylko błyskawicznym przesyłaniem pakietów.

## Stachu

### X.121

- **Adres:** Użytkownik końcowy (np.: 523).
- **Długość:** Zmienna.
- **Charakter:** Adres terytorialny.
- **Format:** Liczby dziesiętne.
- **Dwie formy:**
  - P (1) + DNIC (4) + NTN (max 10).
  - P (1) + DCC (3) + NN (max 11).
- **P:** Wskaźnik międzynarodowy.
- **DNIC:** Identyfikator sieci publicznej (np.: 2601, 260 – Polska, 1 – nr sieci).
- **NTN:** Numer użytkownika.
- **DCC:** Numer kraju.
- **NN:** Numer krajowy.
- **Zastosowanie w adresacji:** Frame Relay (FR). W tej technice informacja jest dzielona na ramki o zmiennej długości, które przenoszą dane między sieciami LAN, co pozwala na przekazywanie informacji między urządzeniami końcowymi sieci rozległych (WAN).

### IP

- **Adres:** Połączenie.
- **Długość:** Stała (32 albo 128 bitów).
- **Charakter:** Adresacja bezpołączeniowa.
- **Wersje:**
  - **IPv4:** Maska x.x.x.x/24.
  - **IPv6:** Prefiks 2001:0db8::/32.
- **Zastosowanie w adresacji:** Tabela routingu.
