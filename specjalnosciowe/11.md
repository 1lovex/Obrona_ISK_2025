# Pytanie 11. Zasady projektowania sieci komputerowych

## Kuba

Projektowanie nowoczesnych sieci LAN opiera się na modelu hierarchicznym (architektura komutowana), który zastąpił dawne sieci płaskie. Model ten dzieli sieć na moduły, co pozwala na łatwą izolację problemów, zwiększenie bezpieczeństwa i niemal nieograniczoną skalowalność.

### Trójwarstwowy Model Hierarchiczny (Cisco Model)

Każda warstwa realizuje specyficzne funkcje, co pozwala na optymalizację doboru sprzętu pod kątem kosztów i wydajności.

#### A. Warstwa dostępu (Access Layer)

Jest to punkt wejścia do sieci dla urządzeń końcowych.

**Urządzenia:** Przełączniki L2 (Layer 2), punkty dostępowe (AP), huby (obecnie rzadko).

**Zadania i funkcje:**

- **Port Security:** Kontrola dostępu na podstawie adresów MAC (np. ograniczanie liczby urządzeń na jednym porcie).
- **VLAN Assignment:** Przypisywanie użytkowników do odpowiednich sieci wirtualnych (np. VLAN dla działów: kadry, IT, goście).
- **PoE (Power over Ethernet):** Zasilanie telefonów IP i kamer bezpośrednio z przełącznika.
- **Tłumienie rozgłoszeń:** Wstępna filtracja ruchu broadcast/multicast.

#### B. Warstwa dystrybucji (Distribution Layer)

Integruje warstwę dostępu i pełni rolę "inteligentnego" łącznika z rdzeniem sieci.

**Urządzenia:** Przełączniki wielowarstwowe (L3), routery.

**Zadania i funkcje:**

- **Inter-VLAN Routing:** Obsługa komunikacji między różnymi sieciami VLAN (router-on-a-stick lub L3 switch).
- **Agregacja połączeń:** Łączenie wielu wolniejszych łączy w jedno szybkie (np. EtherChannel z LACP).
- **Filtrowanie (ACL):** Implementacja list kontroli dostępu (np. blokowanie ruchu z VLAN gości do serwera finansowego).
- **Wyznaczanie domen rozgłoszeniowych:** Izolacja ruchu typu broadcast za pomocą VLAN.
- **Redundancja:** Zapewnienie zapasowych ścieżek do warstwy rdzenia (np. protokoły FHRP jak HSRP).

#### C. Warstwa rdzenia (Core Layer)

Stanowi szkielet sieci (backbone). Musi być maksymalnie szybka i niezawodna.

**Zadania i funkcje:**

- **High-Speed Switching:** Błyskawiczne przesyłanie pakietów bez ich analizy (brak ACL i filtrów, które spowalniają proces).
- **Niezawodność:** Stosowanie urządzeń o wysokiej odporności na awarie (redundantne zasilacze, procesory, wentylatory).
- **Połączenie z WAN/Internetem:** Punkt wyjścia poza sieć lokalną (np. poprzez routery brzegowe).

### Kluczowe cechy i wymagania projektowe

Profesjonalna sieć musi być zaprojektowana z uwzględnieniem pięciu filarów:

- **Skalowalność:** Dzięki modułowości (np. 1 switch dystrybucji obsługuje 10 dostępowych) rozbudowa polega na dodawaniu kolejnych modułów bez wpływu na resztę sieci.
- **Nadmiarowość (Redundancja):**
  - **L2:** Stosowanie protokołu STP (Spanning Tree Protocol), który zapobiega pętlom przy nadmiarowych połączeniach (choć wolny; alternatywy: RSTP, MSTP).
  - **L3:** Stosowanie protokołów takich jak HSRP lub VRRP (zapasowa brama domyślna) oraz protokołów routingu z redundancją (np. OSPF z wieloma ścieżkami).
- **Wydajność:** Stosowanie przełączników o większej przepustowości w wyższych warstwach (Core > Distribution > Access). Unikanie przesyłania danych przez zbyt wiele urządzeń pośredniczających (minimalizacja opóźnień). Implementacja QoS dla priorytetowego ruchu (np. VoIP, video).
- **Bezpieczeństwo:** Wielowarstwowa ochrona – od Port Security w warstwie dostępu, przez ACL w dystrybucji, po Firewall na styku z Internetem. Dodatkowo: szyfrowanie (IPsec), monitoring (SNMP, NetFlow).
- **Zarządzalność:** Standaryzacja sprzętu. Używanie urządzeń tej samej serii w danej warstwie pozwala na łatwe kopiowanie konfiguracji i szybkie serwisowanie. Narzędzia zarządzania jak Cisco DNA Center.

### Metodyka i etapy projektowania

Projektowanie to proces dzielący się na część logiczną i fizyczną:

1. **Analiza i założenia:** Inwentaryzacja obecnego stanu, określenie liczby użytkowników i wymaganych usług (np. VoIP wymaga priorytetyzacji ruchu – QoS).
2. **Projekt Logiczny:**
   - Planowanie adresacji IP (podsieciowanie z CIDR).
   - Struktura VLAN (podział na działy: kadry, księgowość, goście).
   - Wybór protokołów routingu (np. OSPF dla wewnętrznego, BGP dla brzegowego) i mechanizmów bezpieczeństwa.
3. **Projekt Fizyczny i Okablowanie:**
   - **Okablowanie poziome:** Łączy gniazdko użytkownika z punktem dystrybucyjnym (często miedź/skrętka UTP kat. 6).
   - **Okablowanie pionowe (pion):** Łączy punkty dystrybucyjne z głównym punktem rozdzielczym (często światłowód dla dużych odległości).
4. **Implementacja i Kosztorys:** Wybór konkretnych modeli urządzeń (np. Cisco Catalyst dla dostępu), wyliczenie kosztów kabli, szaf rack i robocizny.

### Podsumowanie na obronie

Projektowanie hierarchiczne to odejście od "płaskiej" topologii, w której awaria jednego switcha mogła położyć całą sieć. W modelu trójwarstwowym mamy pełną kontrolę nad ruchem. Najważniejszymi pojęciami są tu redundancja (brak pojedynczego punktu awarii) oraz modułowość, która pozwala na elastyczny rozwój firmy bez konieczności wymiany całej infrastruktury. Przykład: W kampusie uniwersyteckim warstwa dostępu obsługuje studentów w dormitoriach, dystrybucja agreguje ruch, a rdzeń łączy budynki.

## Stachu

**Krok 1.** Ustalenie wymagań sieciowych
**Krok 2.** Charakterystyka istniejącej sieci
**Krok 3.** Projektowanie topologii i rozwiązań sieci

- **Z dołu do góry**
  Projektant sieci wybiera urządzenia sieciowe i technologie na podstawie własnych, wcześniejszych doświadczeń, ale bez analizy organizacji i potrzeb firmy. Z racji tego, że podejście to nie uwzględnia danych celów biznesowych, proponowane rozwiązanie może nie spełniać oczekiwań i z tego względu ta metoda nie jest zalecana.
- **Z góry na dół**
  Projektant rozpoczyna pracę od identyfikacji celów, potrzeb, niezbędnych aplikacji i usług sieciowych (np. telefonia IP, wideokonferencje, sieci partnerskie), a do tych wymagań dostosowuje infrastrukturę, urządzenia i protokoły sieciowe.

**Zasady:**

1. Zasada celowości i analizy wymagań
2. Hierarchiczna budowa sieci
3. Redundancja i niezawodność
4. Bezpieczeństwo sieci
5. Skalowalność
6. Wydajność i optymalizacja
7. Standaryzacja i zgodność z normami
8. Dokumentacja techniczna
9. Zarządzanie i monitorowanie
10. Koszty i efektywność ekonomiczna
